<form class="main-form">
  <h1 class="page-title">Studentenjobvermittlung</h1>
  <p>
    Please enter the information for the Job - fields marked with (*) must be filled in.
  </p>

  <div class="input-container">
    <p>
      <mat-form-field>
        <input matInput
               placeholder="Job Name"
               required
               [formControl]="nameFormControl"
               [errorStateMatcher]="matcher"
               [(ngModel)]="job.name"
               name="name"
               class="input">
        <mat-error *ngIf="nameFormControl.hasError('required')">
          Job Name is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field>
        <textarea matInput
                  placeholder="Description"
                  required
                  [formControl] = descriptionFormControl
                  [errorStateMatcher]="matcher2"
                  [(ngModel)]="job.description"
                  name="description"
                  class="textarea">
        </textarea>
        <mat-error *ngIf="descriptionFormControl.hasError('required')">
          Description is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field>
        <textarea matInput
                  placeholder="Necessary Skills"
                  [(ngModel)]="job.necessarySkills"
                  name="necessarySkills"
                  class="textarea">
        </textarea>
      </mat-form-field>
    </p>
  </div>

  <p>
    <button mat-button *ngIf="!nameFormControl.errors && !descriptionFormControl.errors" (click)="onJobCreate()">create</button>
    <app-job [job]="job" (destroy)="onJobDestroy($event)" *ngFor="let job of jobs"></app-job>
  </p>
</form>
